app.controller('SourcesController', ['$scope', '$routeParams', '$modal', 'Source', 'SourcesQuery',
    function ($scope, $routeParams, $modal, Source, SourcesQuery) {
        if (!!$routeParams.sourceId) {
            Source.get({sourceId: $routeParams.sourceId},
                function (data, status, headers, config) {
                    $modalInstance = $modal.open({
                        templateUrl: "<%= asset_path('source.html') %>",
                        controller: "SourceController",
                        resolve: {
                            source: function () {
                                return data;
                            }
                        }
                    });
                }
                , error = function (data, status, headers, config) {
                    //TODO: add error alert
                });
        } else if (!!$routeParams.groupId) {
            console.log($routeParams.groupId);
//            Source.get({sourceId: $routeParams.restaurantId},
//                function (data, status, headers, config) {
//                    $modalInstance = $modal.open({
//                        templateUrl: "<%= asset_path('source.html') %>",
//                        controller: "SourceController",
//                        resolve: {
//                            source: function () {
//                                return data;
//                            }
//                        }
//                    });
//                }
//                , error = function (data, status, headers, config) {
//                    //TODO: add error alert
//                });
        }

        $scope.SourcesQuery = SourcesQuery;
        // Fill out the following when the User service is done
//        $scope.updateNoShow = function (source) {
//
//        };
//        $scope.updateTried = function (source) {
//
//        };
    }]);
