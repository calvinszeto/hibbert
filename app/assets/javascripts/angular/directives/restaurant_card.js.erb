app.directive('restaurantCard', ['$modal', function ($modal) {
    function link(scope, element, attrs) {
        scope.openRestaurant = function (restaurant) {
            $modalInstance = $modal.open({
                templateUrl: "<%= asset_path('restaurant.html') %>",
                controller: "RestaurantController",
                resolve: {
                    restaurant: function() {
                        return restaurant;
                    }
                }
            });
        }
    };
    return {
        restrict: "E",
        scope: {
            restaurant: '=',
            index: '@'
        },
        replace: true,
        templateUrl: "<%= asset_path('restaurant_card.html') %>",
        link: link
    }
}]);